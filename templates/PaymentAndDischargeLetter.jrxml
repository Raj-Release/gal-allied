<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PaymentAndDischargeLetter" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="74317ef1-7940-4ad1-8006-26c291860f66">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="resourcePath" class="java.lang.String">
		<defaultValueExpression><![CDATA[$P{resourcePath}]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="admissionDate" class="java.util.Date">
		<fieldDescription><![CDATA[admissionDate]]></fieldDescription>
	</field>
	<field name="bankName" class="java.lang.String">
		<fieldDescription><![CDATA[bankName]]></fieldDescription>
	</field>
	<field name="ddDate" class="java.util.Date">
		<fieldDescription><![CDATA[ddDate]]></fieldDescription>
	</field>
	<field name="ddNo" class="java.lang.String">
		<fieldDescription><![CDATA[ddNo]]></fieldDescription>
	</field>
	<field name="dischargeDate" class="java.util.Date">
		<fieldDescription><![CDATA[dischargeDate]]></fieldDescription>
	</field>
	<field name="hospitalName" class="java.lang.String">
		<fieldDescription><![CDATA[hospitalName]]></fieldDescription>
	</field>
	<field name="insuredPatientName" class="java.lang.String">
		<fieldDescription><![CDATA[insuredPatientName]]></fieldDescription>
	</field>
	<field name="mainMemberName" class="java.lang.String">
		<fieldDescription><![CDATA[mainMemberName]]></fieldDescription>
	</field>
	<field name="settledAmount" class="java.lang.Double">
		<fieldDescription><![CDATA[settledAmount]]></fieldDescription>
	</field>
	<field name="ccZonalOfc" class="java.lang.String">
		<fieldDescription><![CDATA[ccZonalOfc]]></fieldDescription>
	</field>
	<field name="ccAreaOfc" class="java.lang.String">
		<fieldDescription><![CDATA[ccAreaOfc]]></fieldDescription>
	</field>
	<field name="ccBranchOfc" class="java.lang.String">
		<fieldDescription><![CDATA[ccBranchOfc]]></fieldDescription>
	</field>
	<field name="billReceivedDateValue" class="java.lang.String">
		<fieldDescription><![CDATA[billReceivedDateValue]]></fieldDescription>
	</field>
	<field name="policyNumber" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.policyNumber]]></fieldDescription>
	</field>
	<field name="proposerFirstName" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.proposerFirstName]]></fieldDescription>
	</field>
	<field name="proposerAddress1" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.proposerAddress1]]></fieldDescription>
	</field>
	<field name="proposerAddress2" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.proposerAddress2]]></fieldDescription>
	</field>
	<field name="proposerAddress3" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.proposerAddress3]]></fieldDescription>
	</field>
	<field name="registeredMobileNumber" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.registeredMobileNumber]]></fieldDescription>
	</field>
	<field name="intimationId" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.intimationId]]></fieldDescription>
	</field>
	<field name="amountInwords" class="java.lang.String">
		<fieldDescription><![CDATA[amountInwords]]></fieldDescription>
	</field>
	<field name="paymentType" class="java.lang.String">
		<fieldDescription><![CDATA[paymentType]]></fieldDescription>
	</field>
	<field name="paymentDate" class="java.util.Date">
		<fieldDescription><![CDATA[paymentDate]]></fieldDescription>
	</field>
	<field name="intrestAmount" class="java.lang.Double">
		<fieldDescription><![CDATA[intrestAmount]]></fieldDescription>
	</field>
	<field name="intrestAmountInWords" class="java.lang.String">
		<fieldDescription><![CDATA[intrestAmountInWords]]></fieldDescription>
	</field>
	<field name="totalAmntInWords" class="java.lang.String">
		<fieldDescription><![CDATA[totalAmntInWords]]></fieldDescription>
	</field>
	<field name="paPatientName" class="java.lang.String">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.paPatientName]]></fieldDescription>
	</field>
	<field name="key" class="java.lang.Long">
		<fieldDescription><![CDATA[claimDto.newIntimationDto.policy.product.key]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="69" splitType="Stretch">
			<staticText>
				<reportElement uuid="12fef2d2-ed0a-4a45-b0b0-f1a578085037" x="144" y="44" width="411" height="25"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
					<font fontName="Times New Roman" size="12" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Toll Free No :  1800 102 4477 / 1800 425 2255 , <u>www.starhealth.in</u>]]></text>
			</staticText>
			<image>
				<reportElement uuid="6d6bf778-0a89-496a-a078-e9a50ae9463f" x="0" y="0" width="144" height="69"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<graphicElement>
					<pen lineWidth="0.0"/>
				</graphicElement>
				<imageExpression><![CDATA[$P{resourcePath}+"StarLogo.jpg"]]></imageExpression>
			</image>
			<staticText>
				<reportElement uuid="9b92a0bb-e8c9-451e-8262-8531d794d08a" x="144" y="18" width="411" height="26"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" size="12" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[No.15, SRI BALAJI COMPLEX,1st FLOOR, WHITES LANE,ROYAPETTAH,CHENNAI-600014.]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="6586f274-909a-46c0-ac4e-8104f5442ded" x="144" y="0" width="411" height="18"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="14" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[STAR HEALTH AND ALLIED INSURANCE CO.Ltd.,]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="527" splitType="Stretch">
			<staticText>
				<reportElement uuid="3f308431-b3e7-4cb7-8757-98b081702088" x="0" y="31" width="35" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[To,]]></text>
			</staticText>
			<textField>
				<reportElement uuid="4711d975-2ce2-4631-9856-131ef2daf96b" x="421" y="4" width="134" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd-MMM-yy").format(new Date())]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="ef1ecd27-43c6-4aaf-a5b9-7993ebb99413" x="0" y="51" width="327" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{proposerFirstName} != null ? $F{proposerFirstName} : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="e68ce4e0-c7c6-4746-aba4-11332835311f" positionType="Float" x="0" y="71" width="327" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{proposerAddress1} != null]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{proposerAddress1} != null ? $F{proposerAddress1} : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="a2730220-1f74-4d98-abad-6596bac7d50d" positionType="Float" x="0" y="91" width="327" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{proposerAddress2} != null]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{proposerAddress2} != null ? $F{proposerAddress2} : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="98289040-25be-4c89-a205-2223bd1beb78" positionType="Float" x="0" y="111" width="327" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{proposerAddress3} != null]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{proposerAddress3} != null ? $F{proposerAddress3} : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="f365617a-a24d-4c02-a08d-e0180b426380" positionType="Float" x="0" y="131" width="327" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{registeredMobileNumber} != null]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{registeredMobileNumber} != null ? $F{registeredMobileNumber} : ""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="2e0d1723-d65b-4d18-bbda-c2d5e54bfdc9" positionType="Float" x="0" y="164" width="100" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Dear Sir / Madam,]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="ddb4fd41-a521-4e67-afc6-0ea850d8a862" positionType="Float" x="100" y="194" width="110" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Claim Int No]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="bf857372-17f0-4140-b1b2-2152d2ff7a74" positionType="Float" x="100" y="214" width="110" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Policy No]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="07ecfd7b-5484-43d1-bea6-bcbe717a4d20" positionType="Float" x="100" y="234" width="110" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Main Member Name]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="9d6cfe3e-4d36-4e2e-a823-6816f3785605" positionType="Float" x="100" y="254" width="110" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Insured Patient Name]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="451d8c5a-3606-4461-a651-0fc955082263" positionType="Float" x="100" y="274" width="110" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Period : DoA - DoD]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="d95a9cc8-d548-49fa-a650-d829589c92b5" positionType="Float" x="0" y="309" width="555" height="43"/>
				<textElement markup="styled">
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["With reference to your given claim received by us on "+
( $F{billReceivedDateValue} != null ? $F{billReceivedDateValue} : "") +
" for the hospitalization of "+
( $F{insuredPatientName} != null ?( "<style isBold='true' pdfFontName='Times-Bold'>" + $F{insuredPatientName} + "</style>" ): "" )+
",we are now enclosing Payment of Rs."+
( ( $F{settledAmount} != null ? $F{settledAmount}.intValue() : 0 ) + ( $F{intrestAmount} != null ? $F{intrestAmount}.intValue() : 0 ) )+
"/- (" +
( $F{totalAmntInWords} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>Rupees " + $F{totalAmntInWords} + "</style>)" ): "" ) +
($F{intrestAmount} != null ?(
("including interest for the period of delay amounting to Rs.")+
($F{intrestAmount} != 0d ? $F{intrestAmount}.intValue() : "" )+
($F{intrestAmountInWords} != null ? ( "/- (Rs. " + $F{intrestAmountInWords} + ")" ) : "")) : "")+
( $F{paymentType} != null && $F{paymentType}.equalsIgnoreCase( "NEFT" ) ? ("through NEFT to your Bank Account on " + ($F{ddDate} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>" +  (new SimpleDateFormat("dd-MMM-yy").format($F{ddDate})).toUpperCase() + "</style>") :"") + " vide transfer Receipt No. " + ( $F{ddNo} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>" + $F{ddNo} + "</style>" ) : "" )) : ("DD No." +
( $F{ddNo} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>" + $F{ddNo} + "</style>" ) : "" )+
" on " +
( $F{bankName} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>" + $F{bankName} + "</style>" ) : "" ) +
" of " +
( $F{ddDate} != null ? ( "<style isBold='true' pdfFontName='Times-Bold'>" + new SimpleDateFormat("dd-MM-yyyy").format($F{ddDate}) + "</style>" ): "" ))) +
", in full and final payment of your bills for the hospitalization claim. We enclose the discharge voucher and you are requested to return the voucher duly signed for our records. The detail breakup of claim amount in acceptance is enclosed."]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="69f7596e-32df-4354-a957-edab50ba9cde" positionType="Float" x="0" y="434" width="100" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Thanking you,]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="caa99ef4-d5de-4d3a-a5d2-b959d34cf3da" positionType="Float" x="0" y="462" width="100" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Yours faithfully]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="9098dc61-549b-4e7b-8c58-14c8f459049c" positionType="Float" x="0" y="507" width="112" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Authorised Signatory]]></text>
			</staticText>
			<textField>
				<reportElement uuid="82d463b7-7bb0-4f31-a9dd-3a44e417d574" positionType="Float" x="210" y="254" width="301" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" : " + ($F{key} != null && $F{key}.intValue() == 111 ? ($F{paPatientName} != null ? $F{paPatientName} : "" ) : ( $F{insuredPatientName} != null ? $F{insuredPatientName} : "" ))]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b1cb9869-b2d8-4025-8750-1c6953eaa584" positionType="Float" x="210" y="234" width="301" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" : " + ( $F{proposerFirstName} != null ? $F{proposerFirstName} : "" )]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b1653582-c917-472c-b111-5341049f39d2" positionType="Float" x="210" y="214" width="301" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" : " + ( $F{policyNumber} != null ? $F{policyNumber} : "" )]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="39a67b82-5a91-4299-b204-1252926c93c8" positionType="Float" x="210" y="194" width="301" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" : " + ( $F{intimationId} != null ? $F{intimationId} : "")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b9f40b03-ff0b-44db-851f-1e735d8b6e4f" positionType="Float" x="210" y="274" width="301" height="20"/>
				<textElement>
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" : " + ( $F{admissionDate} != null ? new SimpleDateFormat("dd/MM/yyyy").format($F{admissionDate}) : "") +
( $F{dischargeDate} != null ? ( " - " + new SimpleDateFormat("dd/MM/yyyy").format($F{dischargeDate})) : "" )]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="4f089380-bbf9-42cd-b0d0-e0a320f8a965" positionType="Float" x="0" y="362" width="555" height="59"/>
				<textElement markup="html">
					<font fontName="Times New Roman" pdfFontName="Times-Roman" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["The claim has been settled as per the terms and conditions of the policy based on the claim details furnished / documents submitted. If you are not satisfied with the amount settled, please approach us with any other fresh documents available at your end to enable us to examine them.<br>We are always at your service."]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="19" splitType="Stretch">
			<staticText>
				<reportElement uuid="c6257e6c-5fd6-4237-a71f-48dbaa0be1fc" x="0" y="0" width="555" height="19"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
					<font fontName="Times New Roman" size="12" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[IRDA Regn.No.129]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
